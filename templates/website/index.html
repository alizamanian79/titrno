{% extends "base.html" %}
{% load static %}
{% block content %}

<div class="max-w-[100%] mx-auto h-[auto] py-2
 flex flex-col mt-[3rem]  justify-center items-center">  

       <!-- News Bar Section -->   
        <div class="w-[100%] flex h-auto 
        justify-between bg-[black] text-[white] p-5 mb-[0.2rem]"  >  
            <p class="w-[auto] md:w-[auto] lg:w-[8%] font-['yekanBakhtBold']">خبر فوری:</p>
            <marquee direction="right" class=" w-[auto] md:w-[84%] lg:w-[92%] flex  ">
            
            <p class="flex">
                {% for item in breakingnews %}
                 <a href="{% url 'website:newpage' slug=item.slug %}">. {{item.brief_message}}</a>
                 {% endfor %}
            </p>
           
        </marquee>
         </div>  
    <!-- News Bar Section -->

        <!-- Featured Articles Section -->  
        <div class="flex w-[100%] px-5 justify-between flex-wrap jusify-around bg-[black]">  
            <!-- Main Article -->  
            <div class="flex w-[100%] md:w-[65%] max-h-[570px] relative mb-3 md:mb-0">  
                <img src="./default.svg" id="firstSlider" alt="Woman in fashionable outfit" class="w-full h-[100%] object-cover">  
                <div class="absolute bottom-0 left-0 right-0 bg-[#EF4444] text-white p-5">  
                    <a href="google.com" class="text-xl font-bold" id="firstSliderMessage">WordPress News Magazine Charts the Most Fashionable New York Women in 2018</a>  
                </div>  
            </div>  

            <!-- Side Articles -->  
            <div class="flex w-[100%] md:w-[34%]  flex-col justify-around items-center ">

                <div class="bg-white w-[100%] h-[48%]  ">  
                    <img src="./default.svg" id="seccondSlider" alt="Person surfing" class="w-full h-[150px] object-cover">  
                    <a href="google.com" id="seccondSliderMessage" class="text-lg font-semibold mt-3 p-3">The Most Anticipated Hotel Openings in Strasbourg this Summer</a>  
                </div>  


                <div class="bg-white w-[100%] h-[48%] ">  
                    <img src="./default.svg" id="thirdSlider" alt="Person surfing" class="w-full h-[150px] object-cover">  
                    <a id="thirdSliderMessage" href="google.com" class="text-lg font-semibold mt-3 p-3">The Most Anticipated Hotel Openings in Strasbourg this Summer</a>  
                </div>

                
            </div>  
        </div>  
    </div>  

<!-- Section2  -->  
<section class="flex flex-wrap w-[100%] h-[auto] mt-3 dir px-5" data-aos="fade-up">  
        
        <!-- Slider Section -->  
        <div class="w-[100%] md:w-[45%] lg:w-[30%] flex jusify-center px-5 p-5" style="direction:ltr">
         
            {% include "website/includes/slidebar.html" %}

            
        </div>
        
<!-- News -->
         <div class="w-[100%] md:w-[55%] lg:w-[70%]
           grid  gap-2 mb-5 lg:grid-cols-3 md:grid-cols-2 grid-cols-1" style="direction:ltr">  
             
            
        {% for new in news %}
        <a href="{% url 'website:newpage' slug=new.slug %}"><div class="border border-gray-300 p-5 ">  
                  <img src="{{ new.image.url }}" alt="Cristiano Ronaldo" class="w-full h-auto mb-2" />  
                  <h3 class="text-lg font-semibold mb-2">{{new.title}}</h3>  
                  <p>{{new.brief_message}}</p>  
         </div></a>  
 {% endfor %}

        


       


</div>  



</section> 

{% include 'contact.html' %}

{% comment %} <p id="testman">
    nodeeeeeeeee
    </p> {% endcomment %}

<script type="text/javascript">

    let firstSlider = document.getElementById("firstSlider");  
    let seccondSlider = document.getElementById("seccondSlider");  
    let thirdSlider = document.getElementById("thirdSlider");  

    let firstSliderMessage = document.getElementById("firstSliderMessage");  
    let seccondSliderMessage = document.getElementById("seccondSliderMessage");  
    let thirdSliderMessage = document.getElementById("thirdSliderMessage");  


    let breakingSlider = {{ breakingSlider|safe }};  
    let developingSlider = {{ developingSlider|safe }};  
    let exclusiveSlider = {{ exclusiveSlider|safe }};  

    console.log(breakingSlider);  
    console.log(developingSlider);  
    console.log(exclusiveSlider)
    
    // Initial setup for sliders  
    firstSlider.src = breakingSlider[0].imagesrc;  
    firstSliderMessage.innerHTML = breakingSlider[0].message;  
    firstSliderMessage.href = `new/${breakingSlider[0].link}`;  

    seccondSlider.src = developingSlider[0].imagesrc;  
    seccondSliderMessage.innerHTML = developingSlider[0].message;  
    seccondSliderMessage.href = `new/${developingSlider[0].link}`;   

    
    thirdSlider.src = exclusiveSlider[0].imagesrc;  
    thirdSliderMessage.innerHTML = exclusiveSlider[0].message;  
    thirdSliderMessage.href = `new/${exclusiveSlider[0].link}`;   
    

    // Counter Slider Part
    let countBreaking = 0; 
    let countDeveloping = 0;
    let countExclusiveSlider=0

    function firstSliderFunc() {  
        countBreaking += 1;  
        if (countBreaking >= breakingSlider.length) {  
            countBreaking = 0;  
        }   
        firstSlider.src = breakingSlider[countBreaking].imagesrc;  
        firstSliderMessage.innerHTML = breakingSlider[countBreaking].message;  
        firstSliderMessage.href = `new/${breakingSlider[countBreaking].link}`;  
    }  
    
    function seccondSliderFunc() {  
        countDeveloping += 1;  
        if (countDeveloping >= developingSlider.length) {  
            countDeveloping = 0;  
        }   
        seccondSlider.src = developingSlider[countDeveloping].imagesrc;  
        seccondSliderMessage.innerHTML = developingSlider[countDeveloping].message;  
        seccondSliderMessage.href = `new/${developingSlider[countDeveloping].link}`;  
    }  


    function thirdSliderFunc() {  
        countExclusiveSlider += 1;  
        if (countExclusiveSlider >= exclusiveSlider.length) {  
            countExclusiveSlider = 0;  
        }   
        thirdSlider.src = exclusiveSlider[countExclusiveSlider].imagesrc;  
        thirdSliderMessage.innerHTML = exclusiveSlider[countExclusiveSlider].message;  
        thirdSliderMessage.href = `new/${exclusiveSlider[countExclusiveSlider].link}`;  
    }  

    
    // Create a single function that calls both slider functions  
    function updateSliders() {  
        firstSliderFunc();  
        seccondSliderFunc();  
        thirdSliderFunc();
    }  
    
    // Call updateSliders every 5 seconds  
    setInterval(updateSliders, 5000);
</script>

{% endblock content %}
